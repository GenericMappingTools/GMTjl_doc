<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>frames</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-0615b85506723fa54ab13a613a4e9e4c.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../custom.css">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../GMTjl_logo.png" alt="" class="navbar-logo light-content">
    <img src="../../GMTjl_logo.png" alt="" class="navbar-logo dark-content">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-documentation" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Documentation</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-documentation">    
        <li>
    <a class="dropdown-item" href="../../documentation.html">
 <span class="dropdown-text">Overview</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li>
    <a class="dropdown-item" href="../../documentation/modules.html">
 <span class="dropdown-text">Modules</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../documentation/general/types.html">
 <span class="dropdown-text">GMT.jl Types</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../documentation/extensions.html">
 <span class="dropdown-text">GMT.jl Extensions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../documentation/gdalfuns.html">
 <span class="dropdown-text">GDAL Functions</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../documentation/solids.html">
 <span class="dropdown-text">Solids</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../documentation/imgproc.html">
 <span class="dropdown-text">Image Processing</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../documentation/common_features.html">
 <span class="dropdown-text">Common Features</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../documentation/alphabetical.html">
 <span class="dropdown-text">Alphabetical List</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../examples.html"> 
<span class="menu-text">Examples</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../gallery.html"> 
<span class="menu-text">Gallery</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-tutorials" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Tutorials</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-tutorials">    
        <li>
    <a class="dropdown-item" href="../../tutorials.html">
 <span class="dropdown-text">Overview</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li>
    <a class="dropdown-item" href="../../tutorials/Landsat8/histogram_stretch.html">
 <span class="dropdown-text">Landsat 8/9</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../tutorials/coast/coastlines.html">
 <span class="dropdown-text">Coastlines</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../tutorials/choropleths/choropleths.html">
 <span class="dropdown-text">US Choropleths</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../tutorials/longest_sail/longestsail.html">
 <span class="dropdown-text">Longest Sail</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../tutorials/vector_shp/vector_shp.html">
 <span class="dropdown-text">Geospatial vector</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../tutorials/texture_shading/texture.html">
 <span class="dropdown-text">Texture Shading</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../tutorials/mosaics/mosaics.html">
 <span class="dropdown-text">Mosaics</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../tutorials/mosaics/mosaics.html">
 <span class="dropdown-text">Mosaics</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../tutorials/insets/insets.html">
 <span class="dropdown-text">Insets</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../tutorials/remote_datasets/remote_datasets.html">
 <span class="dropdown-text">Remote Grids</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../tutorials/blender_shading/blender_rt.html">
 <span class="dropdown-text">Blender</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../tutorials/signal/signal.html">
 <span class="dropdown-text">Signal</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-geophysics" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Geophysics</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-geophysics">    
        <li>
    <a class="dropdown-item" href="../../geophysics.html">
 <span class="dropdown-text">Overview</span></a>
  </li>  
        <li><hr class="dropdown-divider"></li>
        <li>
    <a class="dropdown-item" href="../../geophysics/seismicity/global_seis.html">
 <span class="dropdown-text">Seismicity</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../geophysics/earthtides/01_earthtides.html">
 <span class="dropdown-text">Earth Tides</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../geophysics/weather/01_weather.html">
 <span class="dropdown-text">Weather Data</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-help" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Help</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-help">    
        <li>
    <a class="dropdown-item" href="https://github.com/quarto-dev/quarto-cli/issues"><i class="bi bi-bug" role="img">
</i> 
 <span class="dropdown-text">Report a Bug</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://github.com/quarto-dev/quarto-cli/discussions"><i class="bi bi-chat-right-text" role="img">
</i> 
 <span class="dropdown-text">Ask a Question</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul class="collapse">
  <li><a href="#gallery" id="toc-gallery" class="nav-link active" data-scroll-target="#gallery">Gallery</a></li>
  <li><a href="#geographic-basemaps" id="toc-geographic-basemaps" class="nav-link" data-scroll-target="#geographic-basemaps">Geographic basemaps</a></li>
  <li><a href="#cartesian-linear-axes" id="toc-cartesian-linear-axes" class="nav-link" data-scroll-target="#cartesian-linear-axes">Cartesian linear axes</a></li>
  <li><a href="#cartesian-log10-axes" id="toc-cartesian-log10-axes" class="nav-link" data-scroll-target="#cartesian-log10-axes">Cartesian log10 axes</a></li>
  <li><a href="#cartesian-exponential-axes" id="toc-cartesian-exponential-axes" class="nav-link" data-scroll-target="#cartesian-exponential-axes">Cartesian exponential axes</a></li>
  <li><a href="#cartesian-time-axes" id="toc-cartesian-time-axes" class="nav-link" data-scroll-target="#cartesian-time-axes">Cartesian time axes</a></li>
  <li><a href="#custom-axes" id="toc-custom-axes" class="nav-link" data-scroll-target="#custom-axes">Custom axes</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Draw Frames</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="gallery" class="level2">
<h2 class="anchored" data-anchor-id="gallery">Gallery</h2>
<p>Explore different types of frame and axis configurations in GMT.jl.</p>
<style>
.card {
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  cursor: pointer;
  border: 1px solid rgba(0,0,0,.125);
  height: 100%;
}
.card:hover {
  transform: translateY(-5px);
  box-shadow: 0 8px 16px rgba(0,0,0,0.2);
}
.card-img-top {
  width: 100%;
  height: auto;
  object-fit: cover;
}
</style>
<div class="grid">
<div class="g-col-6 g-col-md-4 g-col-lg-2">
<div class="card h-100">
<p><a href="#geographic-basemaps" class="card-title stretched-link"><strong>Geographic basemaps</strong></a> <a href="#geographic-basemaps"><img src="../../_freeze/examples/frames/frames/figure-html/cell-2-output-1.png" class="card-img-top img-fluid"></a></p>
</div>
</div>
<div class="g-col-6 g-col-md-4 g-col-lg-2">
<div class="card h-100">
<p><a href="#cartesian-linear-axes" class="card-title stretched-link"><strong>Cartesian linear</strong></a> <a href="#cartesian-linear-axes"><img src="../../_freeze/examples/frames/frames/figure-html/cell-4-output-1.png" class="card-img-top img-fluid"></a></p>
</div>
</div>
<div class="g-col-6 g-col-md-4 g-col-lg-2">
<div class="card h-100">
<p><a href="#cartesian-log10-axes" class="card-title stretched-link"><strong>Log10 axes</strong></a> <a href="#cartesian-log10-axes"><img src="../../_freeze/examples/frames/frames/figure-html/cell-6-output-1.png" class="card-img-top img-fluid"></a></p>
</div>
</div>
<div class="g-col-6 g-col-md-4 g-col-lg-2">
<div class="card h-100">
<p><a href="#cartesian-exponential-axes" class="card-title stretched-link"><strong>Exponential axes</strong></a> <a href="#cartesian-exponential-axes"><img src="../../_freeze/examples/frames/frames/figure-html/cell-7-output-1.png" class="card-img-top img-fluid"></a></p>
</div>
</div>
<div class="g-col-6 g-col-md-4 g-col-lg-2">
<div class="card h-100">
<p><a href="#cartesian-time-axes" class="card-title stretched-link"><strong>Time axes</strong></a> <a href="#cartesian-time-axes"><img src="../../_freeze/examples/frames/frames/figure-html/cell-8-output-1.png" class="card-img-top img-fluid"></a></p>
</div>
</div>
<div class="g-col-6 g-col-md-4 g-col-lg-2">
<div class="card h-100">
<p><a href="#custom-axes" class="card-title stretched-link"><strong>Custom axes</strong></a> <a href="#custom-axes"><img src="../../_freeze/examples/frames/frames/figure-html/cell-15-output-1.png" class="card-img-top img-fluid"></a></p>
</div>
</div>
</div>
<hr>
</section>
<section id="geographic-basemaps" class="level2">
<h2 class="anchored" data-anchor-id="geographic-basemaps">Geographic basemaps</h2>
<p>Geographic base maps may differ from regular plot axes in that some projections support a “fancy” form of axis and is selected by the MAP_FRAME_TYPE setting. The annotations will be formatted according to the FORMAT_GEO_MAP template and MAP_DEGREE_SYMBOL setting. A simple example of part of a base map is shown in Figure Geographic map border.</p>
<div id="16fbaade" class="cell" data-execution_count="1">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">GMT</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">basemap</span>(limits<span class="op">=</span>(<span class="op">-</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">0</span>,<span class="fl">0.4</span>), proj<span class="op">=:</span>Mercator, figsize<span class="op">=</span><span class="fl">12</span>,</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>        frame<span class="op">=</span>(axes<span class="op">=:</span>S, annot<span class="op">=</span><span class="fl">1</span>, ticks<span class="op">=</span><span class="st">"15m"</span>,grid<span class="op">=</span><span class="st">"5m"</span>))</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>t <span class="op">=</span> [<span class="op">-</span><span class="fl">1.0</span> <span class="fl">0</span> <span class="fl">0</span> <span class="fl">3.33</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>      <span class="fl">0.25</span> <span class="fl">0</span> <span class="fl">0</span> <span class="fl">0.833</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>      <span class="fl">1.25</span> <span class="fl">0</span> <span class="fl">0</span> <span class="fl">0.28</span>];</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">arrows!</span>(t, arrow<span class="op">=</span>(length<span class="op">=</span><span class="st">"2p"</span>,start<span class="op">=</span><span class="cn">true</span>,stop<span class="op">=</span><span class="cn">true</span>,angle<span class="op">=</span><span class="fl">60</span>), lw<span class="op">=</span><span class="fl">0.5</span>,</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>        fill<span class="op">=:</span>black, noclip<span class="op">=</span><span class="cn">true</span>, yshift<span class="op">=-</span><span class="fl">0.9</span>)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>T <span class="op">=</span> <span class="fu">text_record</span>([<span class="op">-</span><span class="fl">0.5</span> <span class="fl">0.05</span>; <span class="fl">0.375</span> <span class="fl">0.05</span>; <span class="fl">1.29166666</span> <span class="fl">0.05</span>], [<span class="st">"annotation"</span>, <span class="st">"frame"</span>, <span class="st">"grid"</span>]);</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="fu">text!</span>(T, font<span class="op">=</span><span class="fl">9</span>, justify<span class="op">=:</span>CB, show<span class="op">=</span><span class="cn">true</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="frames_files/figure-html/cell-2-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>The machinery for primary and secondary annotations axes can be utilized for geographic base maps. This may be used to separate degree annotations from minutes- and seconds-annotations. For a more complicated base map example using several sets of intervals, including different intervals and pen attributes for grid lines and grid crosses.</p>
<div id="742a1be3" class="cell" data-execution_count="2">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">GMT</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">basemap</span>(region<span class="op">=</span>(<span class="op">-</span><span class="fl">2</span>,<span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">0.35</span>), proj<span class="op">=:</span>Mercator, figsize<span class="op">=</span><span class="fl">10</span>,</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>        frame<span class="op">=</span>(axes<span class="op">=:</span>wSe, annot<span class="op">=</span><span class="st">"15m"</span>, ticks<span class="op">=</span><span class="st">"5m"</span>,grid<span class="op">=</span><span class="st">"5m"</span>),</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>        axis2<span class="op">=</span>(annot<span class="op">=</span><span class="fl">1</span>, ticks<span class="op">=</span><span class="st">"30m"</span>, grid<span class="op">=</span><span class="st">"15m"</span>),</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>        conf<span class="op">=</span>(MAP_FRAME_TYPE<span class="op">=</span><span class="st">"fancy+"</span>, MAP_GRID_PEN_PRIMARY<span class="op">=</span><span class="st">"thinnest,black,."</span>,</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>              MAP_GRID_CROSS_SIZE_SECONDARY<span class="op">=</span><span class="fl">0.25</span>, MAP_FRAME_WIDTH<span class="op">=</span><span class="fl">0.2</span>,</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>              MAP_TICK_LENGTH_PRIMARY<span class="op">=</span><span class="fl">0.25</span>, FORMAT_GEO_MAP<span class="op">=</span><span class="st">"ddd:mm:ssF"</span>,</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>              FONT_ANNOT_PRIMARY<span class="op">=</span><span class="st">"+8"</span>, FONT_ANNOT_SECONDARY<span class="op">=</span><span class="fl">12</span>))</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Draw Arrows and text</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>t <span class="op">=</span> [<span class="op">-</span><span class="fl">1.875</span>    <span class="fl">0</span> <span class="fl">0</span> <span class="fl">0.85</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>     <span class="op">-</span><span class="fl">0.45833</span>  <span class="fl">0</span> <span class="fl">0</span> <span class="fl">0.3</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>      <span class="fl">0.541666</span> <span class="fl">0</span> <span class="fl">0</span> <span class="fl">0.3</span>]</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="fu">arrows!</span>(t, arrow<span class="op">=</span>(length<span class="op">=</span><span class="fl">0.08</span>, start<span class="op">=</span><span class="cn">true</span>, stop<span class="op">=</span><span class="cn">true</span>, justify<span class="op">=:</span>center),</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>        lw<span class="op">=</span><span class="fl">0.5</span>, fill<span class="op">=:</span>black, y_offset<span class="op">=-</span><span class="fl">1</span>, no_clip<span class="op">=</span><span class="cn">true</span>)</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>T <span class="op">=</span> <span class="fu">text_record</span>([<span class="op">-</span><span class="fl">2.1</span> <span class="fl">0.025</span>; <span class="op">-</span><span class="fl">1.875</span> <span class="fl">0.05</span>; <span class="op">-</span><span class="fl">0.45833</span> <span class="fl">0.05</span>; <span class="fl">0.541666</span> <span class="fl">0.05</span>],</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>                [<span class="st">"10p RM P:"</span>, <span class="st">"6p CB annotation"</span>, <span class="st">"6p CB frame"</span>, <span class="st">"6p CB grid"</span>])</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="fu">text!</span>(T, font<span class="op">=</span><span class="st">""</span>, justify<span class="op">=</span><span class="st">""</span>, no_clip<span class="op">=</span><span class="cn">true</span>)</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>t <span class="op">=</span> [<span class="op">-</span><span class="fl">1.5</span> <span class="fl">0</span> <span class="fl">0</span> <span class="fl">3.4</span>; <span class="op">-</span><span class="fl">0.25</span> <span class="fl">0</span> <span class="fl">0</span> <span class="fl">1.7</span>; <span class="fl">0.625</span> <span class="fl">0</span> <span class="fl">0</span> <span class="fl">0.85</span>]</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a><span class="fu">arrows!</span>(t, arrow<span class="op">=</span>(length<span class="op">=</span><span class="fl">0.08</span>, start<span class="op">=</span><span class="cn">true</span>, stop<span class="op">=</span><span class="cn">true</span>, justify<span class="op">=:</span>center),</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>        lw<span class="op">=</span><span class="fl">0.5</span>, fill<span class="op">=:</span>black, y_offset<span class="op">=-</span><span class="fl">0.6</span>, no_clip<span class="op">=</span><span class="cn">true</span>)</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>T <span class="op">=</span> <span class="fu">text_record</span>([<span class="op">-</span><span class="fl">2.1</span> <span class="fl">0.025</span>; <span class="op">-</span><span class="fl">1.5</span>  <span class="fl">0.05</span>; <span class="op">-</span><span class="fl">0.25</span> <span class="fl">0.05</span>; <span class="fl">0.625</span> <span class="fl">0.05</span>],</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>                [<span class="st">"10p RM S:"</span>, <span class="st">"9p CB annotation"</span>, <span class="st">"9p CB frame"</span>, <span class="st">"9p CB grid"</span>])</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a><span class="fu">text!</span>(T, font<span class="op">=</span><span class="st">""</span>, justify<span class="op">=</span><span class="st">""</span>, no_clip<span class="op">=</span><span class="cn">true</span>, show<span class="op">=</span><span class="cn">true</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="frames_files/figure-html/cell-3-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="cartesian-linear-axes" class="level2">
<h2 class="anchored" data-anchor-id="cartesian-linear-axes">Cartesian linear axes</h2>
<p>For non-geographic axes, the MAP_FRAME_TYPE setting is implicitly set to plain. Other than that, cartesian linear axes are very similar to geographic axes. The annotation format may be controlled with the FORMAT_FLOAT_OUT parameter. By default, it is set to “%g”, which is a C language format statement for floating point numbers, and with this setting the various axis routines will automatically determine how many decimal points should be used by inspecting the stride settings. If FORMAT_FLOAT_OUT is set to another format it will be used directly (.e.g, “%.2f” for a fixed, two decimals format). Note that for these axes you may use the unit setting to add a unit string to each annotation.</p>
<div id="2338d1ef" class="cell" data-execution_count="3">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">GMT</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">basemap</span>(region<span class="op">=</span>(<span class="fl">0</span>,<span class="fl">12</span>,<span class="fl">0</span>,<span class="fl">1</span>), figsize<span class="op">=</span>(<span class="fl">12</span>,<span class="fl">1</span>),</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>        frame<span class="op">=</span>(annot<span class="op">=</span><span class="fl">4</span>, ticks<span class="op">=</span><span class="fl">2</span>, grid<span class="op">=</span><span class="fl">1</span>, xlabel<span class="op">=</span><span class="st">"Frequency"</span>, suffix<span class="op">=</span><span class="st">"%"</span>),</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>        axis2<span class="op">=</span>(axes<span class="op">=</span><span class="st">"S"</span>,))</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>t <span class="op">=</span> [<span class="fl">0</span> <span class="fl">0</span> <span class="fl">0</span> <span class="fl">4.0</span>; <span class="fl">6.0</span> <span class="fl">0</span> <span class="fl">0</span> <span class="fl">2.0</span>; <span class="fl">9.0</span> <span class="fl">0</span> <span class="fl">0</span> <span class="fl">1.0</span>];</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="fu">arrows!</span>(t, arrow<span class="op">=</span>(length<span class="op">=</span><span class="st">"2p"</span>,start<span class="op">=</span><span class="cn">true</span>,stop<span class="op">=</span><span class="cn">true</span>,angle<span class="op">=</span><span class="fl">60</span>),</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>        lw<span class="op">=</span><span class="fl">0.5</span>, fill<span class="op">=:</span>black, y_offset<span class="op">=</span><span class="fl">0.25</span>, no_clip<span class="op">=</span><span class="cn">true</span>)</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>T <span class="op">=</span> <span class="fu">text_record</span>([<span class="fl">2</span> <span class="fl">0.2</span>; <span class="fl">7</span> <span class="fl">0.2</span>; <span class="fl">9.5</span> <span class="fl">0.2</span>], [<span class="st">"annotation"</span>, <span class="st">"frame"</span>, <span class="st">"grid"</span>]);</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="fu">text!</span>(T, font<span class="op">=</span><span class="fl">9</span>, justify<span class="op">=:</span>CB, clearance<span class="op">=</span>(<span class="fl">0.025</span>,<span class="fl">0.025</span>), fill<span class="op">=:</span>white, show<span class="op">=</span><span class="cn">true</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="frames_files/figure-html/cell-4-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>There are occasions when the length of the annotations are such that placing them horizontally (which is the default) may lead to overprinting or too few annotations. One solution is to request slanted annotations for the x-axis via the slanted keyword in frame.</p>
<div id="01b9907b" class="cell" data-execution_count="4">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">GMT</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">basemap</span>(region<span class="op">=</span>(<span class="fl">2000</span>,<span class="fl">2020</span>,<span class="fl">35</span>,<span class="fl">45</span>), frame<span class="op">=</span>(axes<span class="op">=:</span>S, annot<span class="op">=</span><span class="fl">2</span>, ticks<span class="op">=:</span>auto, slanted<span class="op">=-</span><span class="fl">30</span>), show<span class="op">=</span><span class="cn">true</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="frames_files/figure-html/cell-5-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="cartesian-log10-axes" class="level2">
<h2 class="anchored" data-anchor-id="cartesian-log10-axes">Cartesian log10 axes</h2>
<p>Due to the logarithmic nature of annotation spacings, the stride parameter takes on specific meanings. The following concerns are specific to log axes (see Figure Logarithmic projection axis):</p>
<ul>
<li>stride must be 1, 2, 3, or a negative integer -n.&nbsp;Annotations/ticks will then occur at 1, 1-2-5, or 1,2,3,4,…,9, respectively, for each magnitude range. For -n the annotations will take place every n‘th magnitude.</li>
<li>Append l to stride. Then, log10 of the annotation is plotted at every integer log10 value (e.g., x = 100 will be annotated as “2”) [Default annotates x as is].</li>
<li>Append p to stride. Then, annotations appear as 10 raised to log10 of the value (e.g., 10-5).</li>
</ul>
<div id="63fc2ec7" class="cell" data-execution_count="5">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">GMT</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">gmt</span>(<span class="st">"set MAP_GRID_PEN_PRIMARY thinnest,."</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">basemap</span>(region<span class="op">=</span>(<span class="fl">1</span>,<span class="fl">1000</span>,<span class="fl">0</span>,<span class="fl">1</span>), proj<span class="op">=:</span>logx, figsize<span class="op">=</span>(<span class="fl">8</span>,<span class="fl">0.7</span>),</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>        frame<span class="op">=</span>(axes<span class="op">=:</span>S, annot<span class="op">=</span><span class="fl">1</span>, ticks<span class="op">=</span><span class="fl">2</span>, grid<span class="op">=</span><span class="fl">3</span>, scale<span class="op">=:</span>pow, xlabel<span class="op">=</span><span class="st">"Axis Label"</span>))</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="fu">basemap!</span>(frame<span class="op">=</span>(axes<span class="op">=:</span>S, annot<span class="op">=</span><span class="fl">1</span>, ticks<span class="op">=</span><span class="fl">2</span>, grid<span class="op">=</span><span class="fl">3</span>, scale<span class="op">=:</span>log,</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>                xlabel<span class="op">=</span><span class="st">"Axis Label"</span>), y_offset<span class="op">=</span><span class="fl">2.2</span>)</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="fu">basemap!</span>(frame<span class="op">=</span>(axes<span class="op">=:</span>S, annot<span class="op">=</span><span class="fl">1</span>, ticks<span class="op">=</span><span class="fl">2</span>, grid<span class="op">=</span><span class="fl">3</span>,</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>                xlabel<span class="op">=</span><span class="st">"Axis Label"</span>), y_offset<span class="op">=</span><span class="fl">2.2</span>, show<span class="op">=</span><span class="cn">true</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="frames_files/figure-html/cell-6-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="cartesian-exponential-axes" class="level2">
<h2 class="anchored" data-anchor-id="cartesian-exponential-axes">Cartesian exponential axes</h2>
<p>Normally, stride will be used to create equidistant (in the user’s unit) annotations or ticks, but because of the exponential nature of the axis, such annotations may converge on each other at one end of the axis. To avoid this problem, you can append p to stride, and the annotation interval is expected to be in transformed units, yet the annotation itself will be plotted as un-transformed units. E.g., if stride = 1 and power = 0.5 (i.e., sqrt), then equidistant annotations labeled 1, 4, 9, … will appear.</p>
<div id="c8990eae" class="cell" data-execution_count="6">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">GMT</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">gmt</span>(<span class="st">"set MAP_GRID_PEN_PRIMARY thinnest,."</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="fu">basemap</span>(region<span class="op">=</span>(<span class="fl">0</span>,<span class="fl">100</span>,<span class="fl">0</span>,<span class="fl">0.9</span>), proj<span class="op">=</span><span class="st">"powx,0.5"</span>, figsize<span class="op">=</span>(<span class="fl">10</span>, <span class="fl">0.65</span>),</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>       frame<span class="op">=</span>(axes<span class="op">=:</span>S, annot<span class="op">=</span><span class="fl">3</span>, ticks<span class="op">=</span><span class="fl">2</span>, grid<span class="op">=</span><span class="fl">1</span>, scale<span class="op">=:</span>pow, xlabel<span class="op">=</span><span class="st">"Axis Label"</span>))</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="fu">basemap!</span>(frame<span class="op">=</span>(axes<span class="op">=:</span>S, annot<span class="op">=</span><span class="fl">20</span>, ticks<span class="op">=</span><span class="fl">10</span>, grid<span class="op">=</span><span class="fl">5</span>, xlabel<span class="op">=</span><span class="st">"Axis Label"</span>),</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>         y_offset<span class="op">=</span><span class="fl">2.2</span>, show<span class="op">=</span><span class="cn">true</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="frames_files/figure-html/cell-7-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="cartesian-time-axes" class="level2">
<h2 class="anchored" data-anchor-id="cartesian-time-axes">Cartesian time axes</h2>
<p>What sets time axis apart from the other kinds of plot axes is the numerous ways in which we may want to tick and annotate the axis. Not only do we have both primary and secondary annotation items but we also have interval annotations versus tick-mark annotations, numerous time units, and several ways in which to modify the plot. We will demonstrate this flexibility with a series of examples. While all our examples will only show a single x-axis (south, selected via -BS), time-axis annotations are supported for all axes.</p>
<p>Our first example shows a time period of almost two months in Spring 2000. We want to annotate the month intervals as well as the date at the start of each week. Note the leading hyphen in the FORMAT_DATE_MAP removes leading zeros from calendar items (e.g., 03 becomes 3).</p>
<div id="3696d8ae" class="cell" data-execution_count="7">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">GMT</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">basemap</span>(region<span class="op">=</span><span class="st">"2000-4-1T/2000-5-25T/0/1"</span>, figsize<span class="op">=</span>(<span class="fl">12</span>,<span class="fl">0.5</span>),</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>        frame<span class="op">=</span>(axes<span class="op">=:</span>S, annot<span class="op">=</span><span class="fl">7</span>, annot_unit<span class="op">=:</span>day_week, ticks<span class="op">=</span><span class="fl">1</span>, ticks_unit<span class="op">=:</span>day_date),</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>        axis2<span class="op">=</span>(annot<span class="op">=</span><span class="fl">1</span>, annot_unit<span class="op">=:</span>month),</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>        conf<span class="op">=</span>(FORMAT_DATE_MAP<span class="op">=</span><span class="st">"-o"</span>, FONT_ANNOT_PRIMARY<span class="op">=</span><span class="st">"+9p"</span>), show<span class="op">=</span><span class="cn">true</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="frames_files/figure-html/cell-8-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>The next example shows two different ways to annotate an axis portraying 2 days in July 1969:</p>
<div id="c5b6ad35" class="cell" data-execution_count="8">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">GMT</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="co">#gmtset(FORMAT_DATE_MAP="\"o dd\"", FORMAT_CLOCK_MAP="hh:mm", FONT_ANNOT_PRIMARY=9)</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="fu">basemap</span>(region<span class="op">=</span><span class="st">"1969-7-21T/1969-7-23T/0/1"</span>, figsize<span class="op">=</span>(<span class="fl">12</span>,<span class="fl">0.5</span>),</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>        frame<span class="op">=</span>(axes<span class="op">=:</span>S, annot<span class="op">=</span><span class="fl">6</span>, annot_unit<span class="op">=:</span>hour, ticks<span class="op">=</span><span class="fl">1</span>, ticks_unit<span class="op">=:</span>hour2),</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>        axis2<span class="op">=</span>(annot<span class="op">=</span><span class="fl">1</span>, annot_unit<span class="op">=:</span>ISOweekday), par<span class="op">=</span>(FORMAT_DATE_MAP<span class="op">=</span><span class="st">"</span><span class="sc">\"</span><span class="st">o dd</span><span class="sc">\"</span><span class="st">"</span>, FORMAT_CLOCK_MAP<span class="op">=</span><span class="st">"hh:mm"</span>, FONT_ANNOT_PRIMARY<span class="op">=</span><span class="fl">9</span>))</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="fu">basemap!</span>(frame<span class="op">=</span>(axes<span class="op">=:</span>S, annot<span class="op">=</span><span class="fl">6</span>, annot_unit<span class="op">=:</span>H, ticks<span class="op">=</span><span class="fl">1</span>, ticks_unit<span class="op">=:</span>hour2),</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>         axis2<span class="op">=</span>(annot<span class="op">=</span><span class="fl">1</span>, annot_unit<span class="op">=:</span>date), y_offset<span class="op">=</span><span class="fl">1.7</span>, par<span class="op">=</span>(FORMAT_DATE_MAP<span class="op">=</span><span class="st">"</span><span class="sc">\"</span><span class="st">o dd</span><span class="sc">\"</span><span class="st">"</span>, FORMAT_CLOCK_MAP<span class="op">=</span><span class="st">"hh:mm"</span>, FONT_ANNOT_PRIMARY<span class="op">=</span><span class="fl">9</span>), show<span class="op">=</span><span class="cn">true</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="frames_files/figure-html/cell-9-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>The lower example chooses to annotate the weekdays (by specifying a1K) while the upper example choses dates (by specifying a1D). Note how the clock format only selects hours and minutes (no seconds) and the date format selects a month name, followed by one space and a two-digit day-of-month number.</p>
<p>The lower example chooses to annotate the weekdays (by specifying a1K) while the upper example choses dates (by specifying a1D). Note how the clock format only selects hours and minutes (no seconds) and the date format selects a month name, followed by one space and a two-digit day-of-month number.</p>
<p>The third example presents two years, annotating both the years and every 3rd month.</p>
<div id="2bf064aa" class="cell" data-execution_count="9">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">GMT</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">basemap</span>(region<span class="op">=</span>(<span class="st">"1997T"</span>,<span class="st">"1999T"</span>,<span class="fl">0</span>,<span class="fl">1</span>), figsize<span class="op">=</span>(<span class="fl">12</span>,<span class="fl">0.25</span>),</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>        frame<span class="op">=</span>(axes<span class="op">=:</span>S, annot<span class="op">=</span><span class="fl">3</span>, annot_unit<span class="op">=:</span>month, ticks<span class="op">=</span><span class="fl">1</span>, ticks_unit<span class="op">=:</span>month2),</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>        xaxis2<span class="op">=</span>(annot<span class="op">=</span><span class="fl">1</span>, annot_unit<span class="op">=:</span>Y),</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>        conf<span class="op">=</span>(FORMAT_DATE_MAP<span class="op">=</span><span class="st">"o"</span>, FORMAT_TIME_PRIMARY_MAP<span class="op">=</span><span class="st">"Character"</span>, FONT_ANNOT_PRIMARY<span class="op">=</span><span class="st">"+9p"</span>), show<span class="op">=</span><span class="cn">true</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="frames_files/figure-html/cell-10-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Note that while the year annotation is centered on the 1-year interval, the month annotations must be centered on the corresponding month and not the 3-month interval. The FORMAT_DATE_MAP selects month name only and FORMAT_TIME_PRIMARY_MAP selects the 1-character, upper case abbreviation of month names using the current language (selected by GMT_LANGUAGE).</p>
<p>The fourth example only shows a few hours of a day, using relative time by specifying <em>t</em> in the <em>region</em> option while the TIME_UNIT is <em>d</em> (for days). We select both primary and secondary annotations, ask for a 12-hour clock, and let time go from right to left:</p>
<div id="bfe16dfc" class="cell" data-execution_count="10">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">GMT</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">basemap</span>(region<span class="op">=</span>(<span class="st">"0.2t"</span>,<span class="st">"0.35t"</span>,<span class="fl">0</span>,<span class="fl">1</span>), figsize<span class="op">=</span>(<span class="op">-</span><span class="fl">12</span>,<span class="fl">0.25</span>),</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>        frame<span class="op">=</span>(axes<span class="op">=:</span>S, annot<span class="op">=</span><span class="st">"15m"</span>, ticks<span class="op">=</span><span class="st">"5m"</span>), axis2<span class="op">=</span>(annot<span class="op">=</span><span class="fl">1</span>, annot_unit<span class="op">=:</span>hour),</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>        conf<span class="op">=</span>(FORMAT_CLOCK_MAP<span class="op">=</span><span class="st">"-hham"</span>, FONT_ANNOT_PRIMARY<span class="op">=</span><span class="st">"+9p"</span>, TIME_UNIT<span class="op">=</span><span class="st">"d"</span>), show<span class="op">=</span><span class="cn">true</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="frames_files/figure-html/cell-11-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>The fifth example shows a few weeks of time (Figure Cartesian time axis, example 5). The lower axis shows ISO weeks with week numbers and abbreviated names of the weekdays. The upper uses Gregorian weeks (which start at the day chosen by TIME_WEEK_START); they do not have numbers.</p>
<div id="03a515de" class="cell" data-execution_count="11">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">GMT</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">basemap</span>(region<span class="op">=</span><span class="st">"1969-7-21T/1969-8-9T/0/1"</span>, figsize<span class="op">=</span>(<span class="fl">12</span>,<span class="fl">0.25</span>),</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>        frame<span class="op">=</span>(axes<span class="op">=:</span>S, annot<span class="op">=</span><span class="fl">1</span>, annot_unit<span class="op">=:</span>ISOweekday),</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>        axis2<span class="op">=</span>(annot<span class="op">=</span><span class="fl">1</span>, annot_unit<span class="op">=:</span>ISOweek),</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>        conf<span class="op">=</span>(FORMAT_DATE_MAP<span class="op">=:</span>u, FORMAT_TIME_PRIMARY_MAP<span class="op">=:</span>Character, FORMAT_TIME_SECONDARY_MAP<span class="op">=:</span>full, FONT_ANNOT_PRIMARY<span class="op">=</span><span class="fl">9</span>))</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="fu">basemap!</span>(frame<span class="op">=</span>(axes<span class="op">=:</span>S, annot<span class="op">=</span><span class="fl">3</span>, annot_unit<span class="op">=:</span>ISOweekday, ticks<span class="op">=</span><span class="fl">1</span>, ticks_unit<span class="op">=:</span>weekday),</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>         axis2<span class="op">=</span>(annot<span class="op">=</span><span class="fl">1</span>, annot_unit<span class="op">=:</span>Gregorian_week),</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>         conf<span class="op">=</span>(FORMAT_DATE_MAP<span class="op">=:</span>o, TIME_WEEK_START<span class="op">=:</span>Sunday, FORMAT_TIME_SECONDARY_MAP<span class="op">=:</span>Character),</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>         y_offset<span class="op">=</span><span class="fl">1.7</span>, show<span class="op">=</span><span class="cn">true</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="frames_files/figure-html/cell-12-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Our sixth example shows the first five months of 1996, and we have annotated each month with an abbreviated, upper case name and 2-digit year. Only the primary axes information is specified.</p>
<div id="1f1bbe7d" class="cell" data-execution_count="12">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb12"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">GMT</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">basemap</span>(region<span class="op">=</span>(<span class="st">"1996T"</span>,<span class="st">"1996-6T"</span>,<span class="fl">0</span>,<span class="fl">1</span>), figsize<span class="op">=</span>(<span class="fl">12</span>,<span class="fl">0.25</span>),</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>        frame<span class="op">=</span>(axes<span class="op">=:</span>S, annot<span class="op">=</span><span class="fl">1</span>, annot_unit<span class="op">=:</span>month, ticks<span class="op">=</span><span class="fl">1</span>, ticks_unit<span class="op">=:</span>day_date),</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>        conf<span class="op">=</span>(FORMAT_DATE_MAP<span class="op">=</span><span class="st">"</span><span class="sc">\"</span><span class="st">o yy</span><span class="sc">\"</span><span class="st">"</span>, FORMAT_TIME_PRIMARY_MAP<span class="op">=</span><span class="st">"Abbreviated"</span>), show<span class="op">=</span><span class="cn">true</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="frames_files/figure-html/cell-13-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Our seventh and final example illustrates annotation of year-days. Unless we specify the formatting with a leading hyphen in FORMAT_DATE_MAP we get 3-digit integer days. Note that in order to have the two years annotated we need to allow for the annotation of small fractional intervals; normally such truncated interval must be at least half of a full interval.</p>
<div id="362368e3" class="cell" data-execution_count="13">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">GMT</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">basemap</span>(region<span class="op">=</span>(<span class="st">"2000-12-15T"</span>,<span class="st">"2001-1-15T"</span>,<span class="fl">0</span>,<span class="fl">1</span>), figsize<span class="op">=</span>(<span class="fl">12</span>,<span class="fl">0.25</span>),</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>        frame<span class="op">=</span>(axes<span class="op">=:</span>S, annot<span class="op">=</span><span class="fl">5</span>, annot_unit<span class="op">=:</span>date, ticks<span class="op">=</span><span class="fl">1</span>, ticks_unit<span class="op">=:</span>day_date),</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>        axis2<span class="op">=</span>(annot<span class="op">=</span><span class="fl">1</span>, annot_unit<span class="op">=:</span>year),</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>        conf<span class="op">=</span>(FORMAT_DATE_MAP<span class="op">=</span><span class="st">"jjj"</span>, TIME_INTERVAL_FRACTION<span class="op">=</span><span class="fl">0.05</span>, FONT_ANNOT_PRIMARY<span class="op">=</span><span class="st">"+9p"</span>), show<span class="op">=</span><span class="cn">true</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="frames_files/figure-html/cell-14-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="custom-axes" class="level2">
<h2 class="anchored" data-anchor-id="custom-axes">Custom axes</h2>
<div id="02c601d6" class="cell" data-execution_count="14">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb14"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">GMT</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="fu">basemap</span>(region<span class="op">=</span>(<span class="fl">416</span>,<span class="fl">542</span>,<span class="fl">0</span>,<span class="fl">6.2831852</span>), figsize<span class="op">=</span>(<span class="op">-</span><span class="fl">12</span>,<span class="fl">5</span>),</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>        frame<span class="op">=</span>(frame<span class="op">=</span>(<span class="op">:</span>left_full, <span class="op">:</span>bot_full), fill<span class="op">=:</span>lightblue),</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>        xaxis<span class="op">=</span>(annot<span class="op">=</span><span class="fl">25</span>, ticks<span class="op">=</span><span class="fl">5</span>, grid<span class="op">=</span><span class="fl">25</span>, suffix<span class="op">=</span><span class="st">" Ma"</span>),</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>        yaxis<span class="op">=</span>(custom<span class="op">=</span>(pos<span class="op">=</span>[<span class="fl">0</span> <span class="fl">1</span> <span class="fl">2</span> <span class="fl">2.71828</span> <span class="fl">3</span> <span class="fl">3.1415926</span> <span class="fl">4</span> <span class="fl">5</span> <span class="fl">6</span> <span class="fl">6.2831852</span>],</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>               <span class="kw">type</span><span class="op">=</span>[<span class="st">"a"</span>, <span class="st">"a"</span>, <span class="st">"f"</span>, <span class="st">"ag e"</span>, <span class="st">"f"</span>, <span class="st">"ag @~p@~"</span>, <span class="st">"f"</span>, <span class="st">"f"</span>, <span class="st">"f"</span>, <span class="st">"ag 2@~p@~"</span>]),),)</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="fu">basemap!</span>(frame<span class="op">=</span>(axes<span class="op">=</span>(<span class="op">:</span>left_full, <span class="op">:</span>bot_full),),</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>        xaxis2<span class="op">=</span>(custom<span class="op">=</span>(pos<span class="op">=</span>[<span class="fl">416.0</span>, <span class="fl">443.7</span>, <span class="fl">488.3</span>, <span class="fl">542</span>],</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>                        <span class="kw">type</span><span class="op">=</span>[<span class="st">"ig Devonian"</span>, <span class="st">"ig Silurian"</span>, <span class="st">"ig Ordovician"</span>, <span class="st">"ig Cambrian"</span>]),),</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>        par<span class="op">=</span>(MAP_ANNOT_OFFSET_SECONDARY<span class="op">=</span><span class="st">"10p"</span>, MAP_GRID_PEN_SECONDARY<span class="op">=</span><span class="st">"2p"</span>), show<span class="op">=</span><span class="cn">true</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="frames_files/figure-html/cell-15-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>


</section>

</main> <!-- /main -->
<script>

// JavaScript to handle card hover effects for cards with images

document.addEventListener('DOMContentLoaded', function() {

  // Find all cards

  const cards = document.querySelectorAll('.card');



  cards.forEach(card => {

    const paragraphs = card.querySelectorAll('p');



    // If card has only one paragraph (with image)

    if (paragraphs.length === 1) {

      const p = paragraphs[0];

      const img = p.querySelector('img');



      if (img) {

        // Get all text nodes

        const textContent = Array.from(p.childNodes)

          .filter(node => node.nodeType === Node.TEXT_NODE)

          .map(node => node.textContent.trim())

          .filter(text => text.length > 0)

          .join(' ');



        if (textContent) {

          // Create overlay div for description

          const overlay = document.createElement('div');

          overlay.className = 'card-description-overlay';

          overlay.textContent = textContent;

          card.appendChild(overlay);



          // Remove text nodes completely

          Array.from(p.childNodes).forEach(node => {

            if (node.nodeType === Node.TEXT_NODE && node.textContent.trim().length > 0) {

              node.remove();

            }

          });

        }

      }

    }

  });

});

</script>

<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/GenericMappingTools\.github\.io\/GMTjl_doc\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>